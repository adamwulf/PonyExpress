{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"With "},{"type":"codeVoice","code":"PonyExpress"},{"type":"text","text":", the notification, called a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Letter"},{"type":"text","text":", are type-safe and guaranteed"},{"type":"text","text":" "},{"type":"text","text":"at compile-time to match the observer site."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When sending notifications, "},{"type":"codeVoice","code":"NotificationCenter"},{"type":"text","text":" only provides an optional "},{"type":"codeVoice","code":"[AnyHashable: Any]?"},{"type":"text","text":" "},{"type":"codeVoice","code":"userInfo"},{"type":"text","text":" object for the "},{"type":"codeVoice","code":"Notification"},{"type":"text","text":". Unfortunately, this is not type-safe,"},{"type":"text","text":" "},{"type":"text","text":"and requires casting at the observer site. If the "},{"type":"codeVoice","code":"userInfo"},{"type":"text","text":" format ever changes"},{"type":"text","text":" "},{"type":"text","text":"for a notification, there is no compile-time check that all observers expect the new"},{"type":"text","text":" "},{"type":"text","text":"format."}]},{"anchor":"Letters-and-Packages","level":3,"type":"heading","text":"Letters and Packages"},{"type":"paragraph","inlineContent":[{"type":"text","text":"All notifications must implement the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Letter"},{"type":"text","text":" protocol. A provided "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Package"},{"type":"text","text":" struct"},{"type":"text","text":" "},{"type":"text","text":"is available to wrap any other type. You can provide your notifications in whatever format"},{"type":"text","text":" "},{"type":"text","text":"best suites your code."}]},{"anchor":"Example","level":3,"type":"heading","text":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following snippet shows how to initialize a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/PostOffice"},{"type":"text","text":" to send an "},{"type":"codeVoice","code":"Int"},{"type":"text","text":" "},{"type":"text","text":"along with each "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Letter"},{"type":"text","text":". An observer block is added, and finally a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Letter"},{"type":"text","text":" "},{"type":"text","text":"is sent with the "},{"type":"codeVoice","code":"PonyExpress\/PonyExpress\/post(_:sender:contents:)"},{"type":"text","text":" method."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Below is an example of creating a custom notification type, listening for and then sending"},{"type":"text","text":" "},{"type":"text","text":"that type."}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Define a Letter that we can send","struct MyImportantNotification: Letter {","    let fumble: Int","    let bumble: Float","}","","\/\/ Listen for a `MyImportantNotification`","postOffice.register({ (letter: MyImportantNotification) in","    print(\"received: \\(letter.fumble)\")","})","","\/\/ Send a MyImportantNotification","postOffice.post(MyImportantNotification(fumble: 12, bumble: 14))"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For convenience, any type can be wrapped in a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Package"},{"type":"text","text":" and sent through a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/PostOffice"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Create a `PostOffice`","let postOffice = PostOffice()","","\/\/ Listen for packages","postOffice.register({ (letter: Package<Int>) in","    print(\"received: \\(letter.contents)\")","})","","\/\/ Send a `Letter`","postOffice.post(Package<Int>(contents: 12))"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/ponyexpress"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/PonyExpress\/documentation\/PonyExpress","interfaceLanguage":"swift"},"abstract":[{"type":"codeVoice","code":"PonyExpress"},{"type":"text","text":" provides a type-safe alternative to "},{"type":"codeVoice","code":"NotificationCenter"},{"type":"text","text":". Inspired by"},{"type":"text","text":" "},{"type":"text","text":"https:\/\/en.wikipedia.org\/wiki\/Pony_Express."}],"kind":"symbol","metadata":{"roleHeading":"Framework","externalID":"PonyExpress","title":"PonyExpress","symbolKind":"module","role":"collection","modules":[{"name":"PonyExpress"}]},"hierarchy":{"paths":[[]]},"topicSections":[{"title":"Classes","identifiers":["doc:\/\/PonyExpress\/documentation\/PonyExpress\/PostOffice"]},{"title":"Protocols","identifiers":["doc:\/\/PonyExpress\/documentation\/PonyExpress\/Letter","doc:\/\/PonyExpress\/documentation\/PonyExpress\/Recipient"]},{"title":"Structures","identifiers":["doc:\/\/PonyExpress\/documentation\/PonyExpress\/Package","doc:\/\/PonyExpress\/documentation\/PonyExpress\/RecipientId"]}],"references":{"doc://PonyExpress/documentation/PonyExpress/RecipientId":{"role":"symbol","title":"RecipientId","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"RecipientId"}],"abstract":[],"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/RecipientId","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"RecipientId"}],"url":"\/documentation\/ponyexpress\/recipientid"},"doc://PonyExpress/documentation/PonyExpress":{"role":"collection","title":"PonyExpress","abstract":[{"type":"codeVoice","code":"PonyExpress"},{"type":"text","text":" provides a type-safe alternative to "},{"type":"codeVoice","code":"NotificationCenter"},{"type":"text","text":". Inspired by"},{"type":"text","text":" "},{"type":"text","text":"https:\/\/en.wikipedia.org\/wiki\/Pony_Express."}],"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress","kind":"symbol","type":"topic","url":"\/documentation\/ponyexpress"},"doc://PonyExpress/documentation/PonyExpress/Package":{"role":"symbol","title":"Package","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Package"}],"abstract":[],"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Package","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Package"}],"url":"\/documentation\/ponyexpress\/package"},"doc://PonyExpress/documentation/PonyExpress/PostOffice":{"role":"symbol","title":"PostOffice","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PostOffice"}],"abstract":[],"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/PostOffice","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PostOffice"}],"url":"\/documentation\/ponyexpress\/postoffice"},"doc://PonyExpress/documentation/PonyExpress/Recipient":{"role":"symbol","title":"Recipient","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Recipient"}],"abstract":[],"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Recipient","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Recipient"}],"url":"\/documentation\/ponyexpress\/recipient"},"doc://PonyExpress/documentation/PonyExpress/Letter":{"role":"symbol","title":"Letter","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Letter"}],"abstract":[],"identifier":"doc:\/\/PonyExpress\/documentation\/PonyExpress\/Letter","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Letter"}],"url":"\/documentation\/ponyexpress\/letter"}}}